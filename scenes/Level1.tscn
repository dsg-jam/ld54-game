[gd_scene load_steps=29 format=3 uid="uid://f00y8rjii1h1"]

[ext_resource type="Script" path="res://scripts/TracksController.gd" id="2_ai76e"]
[ext_resource type="PackedScene" uid="uid://cq6ckyed0ps4t" path="res://prefabs/Level.tscn" id="2_l6rrh"]
[ext_resource type="PackedScene" uid="uid://bhjkcskfwdbug" path="res://scenes/Level2.tscn" id="2_xxw16"]
[ext_resource type="PackedScene" uid="uid://cgg0iicpep7b2" path="res://prefabs/Tracks/Track_90_Curve_Medium.tscn" id="3_1radm"]
[ext_resource type="PackedScene" uid="uid://d1xy67euifbh6" path="res://prefabs/Track.tscn" id="3_ud27o"]
[ext_resource type="PackedScene" uid="uid://bnivg4uv1nogr" path="res://prefabs/Tracks/Track_45_Curve.tscn" id="5_2sq2s"]
[ext_resource type="PackedScene" uid="uid://ctghq2lknpslx" path="res://prefabs/TrainStation.tscn" id="5_jlsfp"]
[ext_resource type="PackedScene" uid="uid://cr8fyeohy7xyg" path="res://prefabs/Tracks/Track_45_Curve_Mirrored.tscn" id="6_e3k5x"]
[ext_resource type="PackedScene" uid="uid://c7r1kx700h11u" path="res://prefabs/TrainRoute.tscn" id="7_p34jf"]
[ext_resource type="PackedScene" uid="uid://dhhfykmc5w8mp" path="res://prefabs/TrackSwitches/TrackSwitch_Left90Curve_Left45Curve.tscn" id="7_rhne7"]
[ext_resource type="PackedScene" uid="uid://dvt4wgess2jyj" path="res://prefabs/TrackSwitches/TrackSwitch_Right45Curve_Right90Curve.tscn" id="8_j2k0u"]
[ext_resource type="PackedScene" uid="uid://c4ncuqtx6xes" path="res://prefabs/TrainRouteStop.tscn" id="8_xs6w7"]

[sub_resource type="Curve2D" id="Curve2D_d88jc"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -8, 0, 0, 0, 0, 0, 0, 0, -40.059, -39.9231, 40.059, 39.9231, 88, 40, 0, 0, 0, 0, 128, 128, 0, 0, 0, 0, 128, 152)
}
point_count = 5

[sub_resource type="Curve2D" id="Curve2D_frut4"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -64, -27, 0, 0, 0, 0, 103, 140)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_1djnw"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -8, 0, 0, 0, 0, 0, 0, 0, -40.059, -39.9231, 40.059, 39.9231, 88, 40, 0, 0, 0, 0, 128, 128, 0, 0, 0, 0, 128, 136)
}
point_count = 5

[sub_resource type="Curve2D" id="Curve2D_41wbj"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -136, 0, 0, 0, 0, 0, -128, 0, -16.8086, -8.04456, 16.8086, 8.04456, -80, 8, 0, 0, 0, 0, -48, 32, 0, 0, 0, 0, -40, 40)
}
point_count = 5

[sub_resource type="Curve2D" id="Curve2D_1ukf6"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -28, -159, 0, 0, 0, 0, 272, 142)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_sn01j"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -8, 0, 0, 0, 0, 0, 0, 0, -40.059, -39.9231, 40.059, 39.9231, 88, 40, 0, 0, 0, 0, 128, 128, 0, 0, 0, 0, 128, 136)
}
point_count = 5

[sub_resource type="Curve2D" id="Curve2D_uq6se"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -136, 0, 0, 0, 0, 0, -128, 0, -15.9668, 7.95053, 15.9668, -7.95053, -80, -8, 0, 0, 0, 0, -48, -32, 0, 0, 0, 0, -40, -40)
}
point_count = 5

[sub_resource type="Curve2D" id="Curve2D_tybvb"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 0, 157, 0, 0, 0, 0, 253, -97)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_kvg06"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -24, 0, 0, 0, 0, 0, 0, 0, -40.059, -39.9231, 40.059, 39.9231, 88, 40, 0, 0, 0, 0, 128, 128, 0, 0, 0, 0, 128, 136)
}
point_count = 5

[sub_resource type="Curve2D" id="Curve2D_k5b3m"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -8, 55, 0, 0, 0, 0, 206, -159)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_b5u6y"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 2.08165e-12, 2.08165e-12, 0, 0, 0, 0, 8, 0, -16.0349, -15.9716, 16.0349, 15.9716, 56, 16, 0, 0, 0, 0, 80, 40, 0, 0, 0, 0, 104, 64)
}
point_count = 5

[sub_resource type="ArrayMesh" id="ArrayMesh_umy7o"]
_surfaces = [{
"2d": true,
"aabb": AABB(-1.5, -13.5, 0, 3.00001, 27, 0),
"attribute_data": PackedByteArray(0, 0, 128, 63, 0, 0, 128, 63, 0, 0, 0, 0, 0, 0, 128, 63, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 63, 0, 0, 0, 0),
"format": 33558545,
"index_count": 6,
"index_data": PackedByteArray(3, 0, 0, 0, 1, 0, 1, 0, 2, 0, 3, 0),
"primitive": 3,
"vertex_count": 4,
"vertex_data": PackedByteArray(0, 0, 192, 63, 0, 0, 88, 65, 0, 0, 192, 191, 0, 0, 88, 65, 0, 0, 192, 191, 0, 0, 88, 193, 0, 0, 192, 63, 0, 0, 88, 193)
}]

[sub_resource type="MultiMesh" id="MultiMesh_1tu7u"]
resource_local_to_scene = true
instance_count = 13
mesh = SubResource("ArrayMesh_umy7o")
buffer = PackedFloat32Array(0.999911, -0.013338, 0, 5, 0.013338, 0.999911, 0, 7.80619e-13, 0.99311, -0.117186, 0, 14.9862, 0.117186, 0.99311, 0, 0.411204, 0.978145, -0.207924, 0, 24.8837, 0.207924, 0.978145, 0, 1.81027, 0.945185, -0.326536, 0, 34.591, 0.326536, 0.945185, 0, 4.18571, 0.88196, -0.471324, 0, 43.9078, 0.471324, 0.88196, 0, 7.78681, 0.753186, -0.657808, 0, 52.4575, 0.657808, 0.753186, 0, 12.9333, 0.707989, -0.706223, 0, 59.7627, 0.706223, 0.707989, 0, 19.7499, 0.707201, -0.707013, 0, 66.8408, 0.707013, 0.707201, 0, 26.8139, 0.706054, -0.708158, 0, 73.9103, 0.708158, 0.706054, 0, 33.8865, 0.707107, -0.707107, 0, 80.9695, 0.707107, 0.707107, 0, 40.9695, 0.707106, -0.707108, 0, 88.0405, 0.707108, 0.707106, 0, 48.0405, 0.707107, -0.707106, 0, 95.1116, 0.707106, 0.707107, 0, 55.1116, 0.707107, -0.707107, 0, 102.183, 0.707107, 0.707107, 0, 62.1827)

[sub_resource type="Curve2D" id="Curve2D_qar2q"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 2.08165e-12, 2.08165e-12, 0, 0, 0, 0, 8, 0, -15.9956, -15.9894, 15.9956, 15.9894, 56, 16, 0, 0, 0, 0, 72, 56, 0, 0, 0, 0, 72, 64)
}
point_count = 5

[sub_resource type="MultiMesh" id="MultiMesh_1gawn"]
resource_local_to_scene = true
instance_count = 11
mesh = SubResource("ArrayMesh_umy7o")
buffer = PackedFloat32Array(0.999914, -0.0131121, 0, 5, 0.0131121, 0.999914, 0, 7.80619e-13, 0.993174, -0.116643, 0, 14.9864, 0.116643, 0.993174, 0, 0.407375, 0.978226, -0.207541, 0, 24.8846, 0.207541, 0.978226, 0, 1.80148, 0.945237, -0.326386, 0, 34.5928, 0.326386, 0.945237, 0, 4.17289, 0.881798, -0.471627, 0, 43.9098, 0.471627, 0.881798, 0, 7.77345, 0.750554, -0.660809, 0, 52.4566, 0.660809, 0.750554, 0, 12.9246, 0.580281, -0.814416, 0, 59.5014, 0.814416, 0.580281, 0, 19.9817, 0.420537, -0.907275, 0, 64.909, 0.907275, 0.420537, 0, 28.3721, 0.274261, -0.961655, 0, 68.7216, 0.961655, 0.274261, 0, 37.6024, 0.131685, -0.991292, 0, 71.1074, 0.991292, 0.131685, 0, 47.3038, -4.37114e-08, -1, 0, 72, 1, -4.37114e-08, 0, 57.2519)

[sub_resource type="Curve2D" id="Curve2D_a7pxc"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 67, -219, 0, 0, 0, 0, 67, 217)
}
point_count = 2

[node name="Level1" type="Node2D"]
position = Vector2(-7, 24)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Level" parent="CanvasLayer" instance=ExtResource("2_l6rrh")]
grow_horizontal = 1
grow_vertical = 1
size_flags_horizontal = 3
size_flags_vertical = 3
next_level = ExtResource("2_xxw16")

[node name="Tracks" type="Node2D" parent="."]
script = ExtResource("2_ai76e")

[node name="Track" parent="Tracks" instance=ExtResource("3_1radm")]
position = Vector2(105, 143)
rotation = -1.5708
curve = SubResource("Curve2D_d88jc")

[node name="Track3" parent="Tracks" instance=ExtResource("3_ud27o")]
position = Vector2(425, 106)
curve = SubResource("Curve2D_frut4")

[node name="Track4" parent="Tracks" instance=ExtResource("3_1radm")]
position = Vector2(1060, 459)
rotation = 1.5708
curve = SubResource("Curve2D_1djnw")

[node name="Track5" parent="Tracks" instance=ExtResource("5_2sq2s")]
position = Vector2(788, 587)
rotation = -3.14159
curve = SubResource("Curve2D_41wbj")

[node name="Track6" parent="Tracks" instance=ExtResource("3_ud27o")]
position = Vector2(556, 405)
curve = SubResource("Curve2D_1ukf6")

[node name="Track7" parent="Tracks" instance=ExtResource("3_1radm")]
position = Vector2(932, 15)
curve = SubResource("Curve2D_sn01j")

[node name="Track8" parent="Tracks" instance=ExtResource("6_e3k5x")]
position = Vector2(788, 15)
rotation = -3.14159
curve = SubResource("Curve2D_uq6se")

[node name="Track9" parent="Tracks" instance=ExtResource("3_ud27o")]
position = Vector2(575, 152)
curve = SubResource("Curve2D_tybvb")

[node name="Track11" parent="Tracks" instance=ExtResource("3_1radm")]
position = Vector2(233, 587)
rotation = 3.14159
curve = SubResource("Curve2D_kvg06")

[node name="Track12" parent="Tracks" instance=ExtResource("3_ud27o")]
position = Vector2(369, 468)
curve = SubResource("Curve2D_k5b3m")

[node name="TrackSwitch" parent="Tracks" instance=ExtResource("7_rhne7")]
position = Vector2(257, 587)
direction = 0

[node name="TrackSwitch2" parent="Tracks" instance=ExtResource("8_j2k0u")]
position = Vector2(257, 15)

[node name="LeftTrack" parent="Tracks/TrackSwitch2" index="0"]
curve = SubResource("Curve2D_b5u6y")

[node name="MultiMeshInstance2D" parent="Tracks/TrackSwitch2/LeftTrack" index="1"]
multimesh = SubResource("MultiMesh_1tu7u")

[node name="TrackLine" parent="Tracks/TrackSwitch2/LeftTrack" index="4"]
points = PackedVector2Array(2.08165e-12, 2.08165e-12, 4, 1.04082e-12, 8, 0, 9.40482, 0.0324149, 13.2451, 0.253994, 15.9031, 0.494002, 18.9595, 0.851238, 22.3442, 1.34902, 25.9869, 2.01065, 29.8175, 2.85945, 33.7659, 3.91873, 37.7619, 5.2118, 41.7353, 6.76198, 45.6159, 8.59258, 49.3337, 10.7269, 52.8185, 13.1883, 56, 16, 58.912, 18.9016, 61.635, 21.6168, 64.1692, 24.1457, 66.5147, 26.488, 68.6717, 28.6437, 70.6403, 30.6125, 74.0131, 33.9893, 76.6342, 36.6175, 78.5049, 38.496, 80, 40, 81.0312, 41.0312, 83.75, 43.75, 85.5664, 45.5664, 87.5938, 47.5938, 89.7617, 49.7617, 92, 52, 94.2383, 54.2383, 96.4062, 56.4062, 98.4336, 58.4336, 100.25, 60.25, 102.969, 62.9688, 104, 64)

[node name="Pointer" parent="Tracks/TrackSwitch2/LeftTrack" index="5"]
position = Vector2(81.3648, 41.3648)

[node name="RightTrack" parent="Tracks/TrackSwitch2" index="1"]
curve = SubResource("Curve2D_qar2q")

[node name="MultiMeshInstance2D" parent="Tracks/TrackSwitch2/RightTrack" index="1"]
multimesh = SubResource("MultiMesh_1gawn")

[node name="TrackLine" parent="Tracks/TrackSwitch2/RightTrack" index="4"]
points = PackedVector2Array(2.08165e-12, 2.08165e-12, 4, 1.04082e-12, 8, 0, 9.40643, 0.0316848, 13.2506, 0.251491, 15.911, 0.490416, 18.9699, 0.846545, 22.3569, 1.34327, 26.0017, 2.00397, 29.8339, 2.85206, 33.7832, 3.91091, 37.7793, 5.20392, 41.7519, 6.75447, 45.6305, 8.58597, 49.345, 10.7218, 52.8249, 13.1853, 56, 16, 58.8157, 19.0842, 61.28, 22.3095, 63.4163, 25.6289, 65.2481, 28.9955, 66.7988, 32.3625, 68.0918, 35.6828, 69.1505, 38.9097, 69.9984, 41.996, 70.6587, 44.895, 71.1551, 47.5597, 71.7494, 51.9985, 72, 56, 72, 60, 72, 64)

[node name="Pointer" parent="Tracks/TrackSwitch2/RightTrack" index="5"]
position = Vector2(68.3721, 36.4824)

[node name="Button" parent="Tracks/TrackSwitch2" index="2"]
offset_top = 25.0
offset_bottom = 73.0

[node name="Track2" parent="Tracks" instance=ExtResource("3_ud27o")]
position = Vector2(262, 298)
curve = SubResource("Curve2D_a7pxc")

[node name="TrainStation" parent="." instance=ExtResource("5_jlsfp")]
position = Vector2(1060, 151)
rotation = 1.5708

[node name="TrainStation2" parent="." instance=ExtResource("5_jlsfp")]
position = Vector2(105, 451)
rotation = -1.5708

[node name="TrainRoute" parent="." node_paths=PackedStringArray("tracks_controller") instance=ExtResource("7_p34jf")]
position = Vector2(354.396, 151.157)
tracks_controller = NodePath("../Tracks")
car_count = 2
color = Color(1, 0.627451, 0.572549, 1)
route_name = "Beziani"

[node name="TrainRouteStop" parent="TrainRoute" node_paths=PackedStringArray("station") instance=ExtResource("8_xs6w7")]
station = NodePath("../../TrainStation")

[node name="TrainRouteStop2" parent="TrainRoute" node_paths=PackedStringArray("station") instance=ExtResource("8_xs6w7")]
station = NodePath("../../TrainStation2")

[editable path="Tracks/TrackSwitch2"]
[editable path="Tracks/TrackSwitch2/LeftTrack"]
[editable path="Tracks/TrackSwitch2/RightTrack"]
