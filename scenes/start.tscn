[gd_scene load_steps=21 format=3 uid="uid://bt0pdthcms3sl"]

[ext_resource type="Script" path="res://scripts/track1.gd" id="1_31lvk"]
[ext_resource type="PackedScene" uid="uid://d1xy67euifbh6" path="res://prefabs/Track.tscn" id="2_aska1"]
[ext_resource type="PackedScene" uid="uid://c5rp2hi42rfrv" path="res://prefabs/TrainEngine.tscn" id="2_ee1j8"]
[ext_resource type="PackedScene" uid="uid://ctghq2lknpslx" path="res://prefabs/TrainStation.tscn" id="4_kq6cn"]
[ext_resource type="PackedScene" uid="uid://bm5dq3lcopsvl" path="res://prefabs/TrackSwitch.tscn" id="4_wifjq"]
[ext_resource type="PackedScene" uid="uid://c7r1kx700h11u" path="res://prefabs/TrainRoute.tscn" id="6_sec3k"]
[ext_resource type="PackedScene" uid="uid://c4ncuqtx6xes" path="res://prefabs/TrainRouteStop.tscn" id="7_hql3n"]

[sub_resource type="Curve2D" id="Curve2D_rf02u"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(137.622, -3.25118, -137.622, 3.25118, -323.749, -330.001, 28.7998, -67, -28.7998, 67, -438.09, -133.876, -80.756, -7.07106, 80.756, 7.07106, -383.47, -13.876, -74.7544, -18.1696, 74.7544, 18.1696, -186.836, -20.876, -93.1992, -6.32794, 93.1992, 6.32794, 314.813, -361.999)
}
point_count = 5

[sub_resource type="Curve2D" id="Curve2D_6pi6j"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 2.08165e-12, 2.08165e-12, -24.017, 16.005, 24.017, -16.005, 64, -16, -8.2255, 0.90609, 8.2255, -0.90609, 211, -4)
}
point_count = 3

[sub_resource type="ArrayMesh" id="ArrayMesh_umy7o"]
_surfaces = [{
"2d": true,
"aabb": AABB(-1.5, -13.5, 0, 3.00001, 27, 0),
"attribute_data": PackedByteArray(0, 0, 128, 63, 0, 0, 128, 63, 0, 0, 0, 0, 0, 0, 128, 63, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 63, 0, 0, 0, 0),
"format": 33558545,
"index_count": 6,
"index_data": PackedByteArray(3, 0, 0, 0, 1, 0, 1, 0, 2, 0, 3, 0),
"primitive": 3,
"vertex_count": 4,
"vertex_data": PackedByteArray(0, 0, 192, 63, 0, 0, 88, 65, 0, 0, 192, 191, 0, 0, 88, 65, 0, 0, 192, 191, 0, 0, 88, 193, 0, 0, 192, 63, 0, 0, 88, 193)
}]

[sub_resource type="MultiMesh" id="MultiMesh_cd0fe"]
resource_local_to_scene = true
instance_count = 22
mesh = SubResource("ArrayMesh_umy7o")
buffer = PackedFloat32Array(0.99808, 0.0619333, 0, 4.99647, -0.0619333, 0.99808, 0, -0.176236, 0.992584, 0.121559, 0, 14.9636, -0.121559, 0.992584, 0, -0.961502, 0.98391, 0.178663, 0, 24.872, -0.178663, 0.98391, 0, -2.30135, 0.969346, 0.2457, 0, 34.6786, -0.2457, 0.969346, 0, -4.24865, 0.94496, 0.327186, 0, 44.3185, -0.327186, 0.94496, 0, -6.89664, 0.901405, 0.432977, 0, 53.6711, -0.432977, 0.901405, 0, -10.4225, 0.872033, 0.489447, 0, 62.5187, -0.489447, 0.872033, 0, -15.0622, 0.98167, 0.190586, 0, 71.6268, -0.190586, 0.98167, 0, -19.0316, 0.998726, 0.0504612, 0, 81.5022, -0.0504612, 0.998726, 0, -20.5174, 0.999794, -0.0203211, 0, 91.4947, 0.0203211, 0.999794, 0, -20.8305, 0.997779, -0.0666037, 0, 101.488, 0.0666037, 0.997779, 0, -20.5031, 0.995204, -0.0978241, 0, 111.46, 0.0978241, 0.995204, 0, -19.7521, 0.992528, -0.122021, 0, 121.405, 0.122021, 0.992528, 0, -18.7091, 0.99009, -0.140433, 0, 131.324, 0.140433, 0.99009, 0, -17.4429, 0.987979, -0.15459, 0, 141.219, 0.15459, 0.987979, 0, -16.0016, 0.986092, -0.166203, 0, 151.094, 0.166203, 0.986092, 0, -14.4235, 0.984476, -0.175519, 0, 160.951, 0.175519, 0.984476, 0, -12.7366, 0.983271, -0.182148, 0, 170.792, 0.182148, 0.983271, 0, -10.9635, 0.982529, -0.186112, 0, 180.623, 0.186112, 0.982529, 0, -9.12998, 0.982767, -0.18485, 0, 190.448, 0.18485, 0.982767, 0, -7.26821, 0.985876, -0.167476, 0, 200.28, 0.167476, 0.985876, 0, -5.44161, 0.998275, -0.0587069, 0, 210.173, 0.0587069, 0.998275, 0, -4.04861)

[sub_resource type="Curve2D" id="Curve2D_t0o6m"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 2.08165e-12, 2.08165e-12, -23.902, -16.064, 23.902, 16.064, 64, 16, 40.9502, -53.9767, -40.9502, 53.9767, 81, 115)
}
point_count = 3

[sub_resource type="MultiMesh" id="MultiMesh_adgnh"]
resource_local_to_scene = true
instance_count = 18
mesh = SubResource("ArrayMesh_umy7o")
buffer = PackedFloat32Array(0.998161, -0.0606213, 0, 4.9967, 0.0606213, 0.998161, 0, 0.169378, 0.992717, -0.120468, 0, 14.9649, 0.120468, 0.992717, 0, 0.941638, 0.984055, -0.177863, 0, 24.8746, 0.177863, 0.984055, 0, 2.27142, 0.969439, -0.245334, 0, 34.6825, 0.245334, 0.969439, 0, 4.21167, 0.944761, -0.32776, 0, 44.323, 0.32776, 0.944761, 0, 6.85753, 0.90068, -0.434483, 0, 53.6727, 0.434483, 0.90068, 0, 10.3906, 0.831705, -0.555218, 0, 62.5102, 0.555218, 0.831705, 0, 15.0492, 0.792282, -0.610156, 0, 70.7349, 0.610156, 0.792282, 0, 20.7335, 0.735251, -0.677795, 0, 78.5318, 0.677795, 0.735251, 0, 26.9903, 0.647282, -0.762251, 0, 85.6731, 0.762251, 0.647282, 0, 33.9812, 0.514369, -0.857569, 0, 91.8239, 0.857569, 0.514369, 0, 41.8516, 0.333145, -0.942875, 0, 96.5422, 0.942875, 0.333145, 0, 50.6492, 0.12076, -0.992682, 0, 99.3671, 0.992682, 0.12076, 0, 60.2197, -0.080349, -0.996767, 0, 100.045, 0.996767, -0.080349, 0, 70.1748, -0.262192, -0.965016, 0, 98.7245, 0.965016, -0.262192, 0, 80.0688, -0.393564, -0.919297, 0, 95.7542, 0.919297, -0.393564, 0, 89.6051, -0.491523, -0.870865, 0, 91.5784, 0.870865, -0.491523, 0, 98.6837, -0.565395, -0.82482, 0, 86.4657, 0.82482, -0.565395, 0, 107.274)

[sub_resource type="Curve2D" id="Curve2D_k7kih"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(-79.4597, 5.29732, 79.4597, -5.29732, -142, -352, 7.99999, -67.75, -7.99999, 67.75, -143, -110, 44, 3.75, -44, -3.75, -245, 48)
}
point_count = 3

[sub_resource type="Curve2D" id="Curve2D_ifa0p"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 2.08165e-12, 2.08165e-12, -24.017, 16.005, 24.017, -16.005, 64, -16, 0, 0, 0, 0, 128, -32)
}
point_count = 3

[sub_resource type="MultiMesh" id="MultiMesh_yjbhi"]
resource_local_to_scene = true
instance_count = 13
mesh = SubResource("ArrayMesh_umy7o")
buffer = PackedFloat32Array(0.99808, 0.0619333, 0, 4.99647, -0.0619333, 0.99808, 0, -0.176236, 0.992584, 0.121559, 0, 14.9636, -0.121559, 0.992584, 0, -0.961502, 0.98391, 0.178663, 0, 24.872, -0.178663, 0.98391, 0, -2.30135, 0.969346, 0.2457, 0, 34.6786, -0.2457, 0.969346, 0, -4.24865, 0.94496, 0.327186, 0, 44.3185, -0.327186, 0.94496, 0, -6.89664, 0.901405, 0.432977, 0, 53.6711, -0.432977, 0.901405, 0, -10.4225, 0.847395, 0.530963, 0, 62.5187, -0.530963, 0.847395, 0, -15.0622, 0.910454, 0.413611, 0, 71.1488, -0.413611, 0.910454, 0, -20.1015, 0.949217, 0.314623, 0, 80.3623, -0.314623, 0.949217, 0, -23.9742, 0.971893, 0.235421, 0, 89.9171, -0.235421, 0.971893, 0, -26.9124, 0.985566, 0.169291, 0, 99.6749, -0.169291, 0.985566, 0, -29.0903, 0.993711, 0.111974, 0, 109.553, -0.111974, 0.993711, 0, -30.6376, 0.99852, 0.054383, 0, 119.503, -0.054383, 0.99852, 0, -31.6189)

[sub_resource type="Curve2D" id="Curve2D_s6mpb"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 2.08165e-12, 2.08165e-12, -23.902, -16.064, 23.902, 16.064, 64, 16, 0, 0, 0, 0, 53, 80)
}
point_count = 3

[sub_resource type="MultiMesh" id="MultiMesh_fdcvs"]
resource_local_to_scene = true
instance_count = 14
mesh = SubResource("ArrayMesh_umy7o")
buffer = PackedFloat32Array(0.998161, -0.0606213, 0, 4.9967, 0.0606213, 0.998161, 0, 0.169378, 0.992717, -0.120468, 0, 14.9649, 0.120468, 0.992717, 0, 0.941638, 0.984055, -0.177863, 0, 24.8746, 0.177863, 0.984055, 0, 2.27142, 0.969439, -0.245334, 0, 34.6825, 0.245334, 0.969439, 0, 4.21167, 0.944761, -0.32776, 0, 44.323, 0.32776, 0.944761, 0, 6.85753, 0.90068, -0.434483, 0, 53.6727, 0.434483, 0.90068, 0, 10.3906, 0.800831, -0.59889, 0, 62.5102, 0.59889, 0.800831, 0, 15.0492, 0.387919, -0.921694, 0, 69.5121, 0.921694, 0.387919, 0, 21.9997, -0.00928453, -0.999957, 0, 72.2325, 0.999957, -0.00928453, 0, 31.4886, -0.243766, -0.969834, 0, 71.4367, 0.969834, -0.243766, 0, 41.4151, -0.372475, -0.928042, 0, 68.6345, 0.928042, -0.372475, 0, 51.0042, -0.453013, -0.891504, 0, 64.6923, 0.891504, -0.453013, 0, 60.1896, -0.514499, -0.857491, 0, 59.9968, 0.857491, -0.514499, 0, 69.0157, -0.567529, -0.823353, 0, 54.7185, 0.823353, -0.567529, 0, 77.5069)

[sub_resource type="Curve2D" id="Curve2D_38uo1"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 8, 111, 0.595275, -2.57953, -0.595275, 2.57953, 117, -62)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_56v8v"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -892, 42, 24.75, -76.75, -24.75, 76.75, -826, 123, -75.7984, -44.4472, 75.7984, 44.4472, -906, 340, 0, 0, 0, 0, -733, 381)
}
point_count = 4

[node name="Node2D" type="Node2D"]
script = ExtResource("1_31lvk")
car_count = 4

[node name="TrainEngine" parent="." instance=ExtResource("2_ee1j8")]
color = Color(0, 0.698039, 1, 1)

[node name="Tracks" type="Node2D" parent="."]

[node name="Track" parent="Tracks" instance=ExtResource("2_aska1")]
position = Vector2(615, 159)
rotation = 3.14159
scale = Vector2(1.00695, 1)
curve = SubResource("Curve2D_rf02u")

[node name="TrackSwitch" parent="Tracks" instance=ExtResource("4_wifjq")]
position = Vector2(273, 153)

[node name="LeftTrack" parent="Tracks/TrackSwitch" index="0"]
curve = SubResource("Curve2D_6pi6j")

[node name="MultiMeshInstance2D" parent="Tracks/TrackSwitch/LeftTrack" index="1"]
multimesh = SubResource("MultiMesh_cd0fe")

[node name="TailPoint" parent="Tracks/TrackSwitch/LeftTrack" index="3"]
position = Vector2(211, -4)
rotation = -0.109714
progress = 215.828

[node name="TrackLine" parent="Tracks/TrackSwitch/LeftTrack" index="4"]
points = PackedVector2Array(2.08165e-12, 2.08165e-12, 1.76493, -0.031045, 6.62261, -0.249297, 10.0063, -0.487274, 13.9174, -0.842432, 18.2738, -1.33823, 22.9936, -1.99813, 25.4642, -2.39694, 27.9949, -2.84558, 30.5755, -3.34697, 33.1957, -3.90405, 35.8452, -4.51975, 38.514, -5.197, 41.1916, -5.93874, 43.8678, -6.74789, 46.5325, -7.62739, 49.1753, -8.58017, 51.7861, -9.60917, 54.3545, -10.7173, 56.8703, -11.9075, 59.3234, -13.1828, 61.7033, -14.5459, 64, -16, 66.5114, -17.3712, 69.5184, -18.4928, 72.9848, -19.3787, 76.8745, -20.0424, 81.1515, -20.4977, 85.7795, -20.7582, 90.7224, -20.8376, 93.3007, -20.8137, 95.9442, -20.7497, 98.6484, -20.6472, 101.409, -20.508, 104.221, -20.3338, 107.08, -20.1264, 109.982, -19.8873, 112.921, -19.6183, 115.895, -19.3212, 118.897, -18.9977, 121.924, -18.6494, 124.971, -18.278, 128.034, -17.8854, 131.108, -17.4731, 134.188, -17.0429, 137.27, -16.5965, 140.349, -16.1357, 143.422, -15.6621, 146.483, -15.1774, 149.528, -14.6834, 152.552, -14.1817, 155.551, -13.6742, 158.521, -13.1624, 161.456, -12.648, 164.353, -12.1329, 167.206, -11.6188, 170.012, -11.1072, 172.766, -10.6, 175.463, -10.0988, 178.098, -9.60536, 180.668, -9.12141, 183.168, -8.64863, 187.939, -7.74345, 192.374, -6.9035, 196.438, -6.14248, 200.094, -5.47406, 203.307, -4.91193, 206.04, -4.46978, 208.257, -4.16128, 211, -4)

[node name="Pointer" parent="Tracks/TrackSwitch/LeftTrack" index="5"]
position = Vector2(64, -16)

[node name="RightTrack" parent="Tracks/TrackSwitch" index="1"]
curve = SubResource("Curve2D_t0o6m")

[node name="MultiMeshInstance2D" parent="Tracks/TrackSwitch/RightTrack" index="1"]
multimesh = SubResource("MultiMesh_adgnh")

[node name="TailPoint" parent="Tracks/TrackSwitch/RightTrack" index="3"]
position = Vector2(81, 115)
rotation = 2.21982
progress = 184.466

[node name="TrackLine" parent="Tracks/TrackSwitch/RightTrack" index="4"]
points = PackedVector2Array(2.08165e-12, 2.08165e-12, 1.76964, 0.028625, 6.63878, 0.241, 10.0295, 0.475391, 13.9477, 0.826875, 18.311, 1.31917, 23.0368, 1.976, 25.5098, 2.37353, 28.0427, 2.82108, 30.6249, 3.32162, 33.2462, 3.87813, 35.8963, 4.49355, 38.5649, 5.17086, 41.2417, 5.91302, 43.9163, 6.723, 46.5786, 7.60376, 49.218, 8.55827, 51.8245, 9.58948, 54.3875, 10.7004, 56.8969, 11.8939, 59.3423, 13.173, 61.7135, 14.5408, 64, 16, 66.2679, 17.5441, 68.5797, 19.1661, 70.9198, 20.868, 73.2726, 22.6521, 75.6224, 24.5207, 77.9537, 26.476, 80.251, 28.5201, 82.4985, 30.6553, 84.6808, 32.8838, 86.7822, 35.2079, 88.7872, 37.6297, 90.6801, 40.1515, 92.4454, 42.7754, 94.0675, 45.5038, 95.5307, 48.3389, 96.8196, 51.2827, 97.9184, 54.3377, 98.8117, 57.5059, 99.4838, 60.7897, 99.9191, 64.1912, 100.102, 67.7126, 100.017, 71.3562, 99.6485, 75.1242, 98.9808, 79.0188, 97.9985, 83.0423, 96.6858, 87.1968, 95.0272, 91.4845, 93.0071, 95.9078, 91.8566, 98.1709, 90.6099, 100.469, 89.265, 102.802, 87.8201, 105.17, 86.273, 107.573, 84.622, 110.013, 82.8649, 112.488, 81, 115)

[node name="Track2" parent="Tracks" instance=ExtResource("2_aska1")]
position = Vector2(28, 201)
rotation = -3.14159
curve = SubResource("Curve2D_k7kih")

[node name="TrackSwitch2" parent="Tracks" instance=ExtResource("4_wifjq")]
position = Vector2(298, 521)
rotation = -3.14159

[node name="LeftTrack" parent="Tracks/TrackSwitch2" index="0"]
curve = SubResource("Curve2D_ifa0p")

[node name="MultiMeshInstance2D" parent="Tracks/TrackSwitch2/LeftTrack" index="1"]
multimesh = SubResource("MultiMesh_yjbhi")

[node name="RightTrack" parent="Tracks/TrackSwitch2" index="1"]
curve = SubResource("Curve2D_s6mpb")

[node name="MultiMeshInstance2D" parent="Tracks/TrackSwitch2/RightTrack" index="1"]
multimesh = SubResource("MultiMesh_fdcvs")

[node name="TailPoint" parent="Tracks/TrackSwitch2/RightTrack" index="3"]
position = Vector2(53, 80)
rotation = 1.74101
progress = 138.028

[node name="TrackLine" parent="Tracks/TrackSwitch2/RightTrack" index="4"]
points = PackedVector2Array(2.08165e-12, 2.08165e-12, 1.76964, 0.028625, 6.63878, 0.241, 10.0295, 0.475391, 13.9477, 0.826875, 18.311, 1.31917, 23.0368, 1.976, 25.5098, 2.37353, 28.0427, 2.82108, 30.6249, 3.32162, 33.2462, 3.87813, 35.8963, 4.49355, 38.5649, 5.17086, 41.2417, 5.91302, 43.9163, 6.723, 46.5786, 7.60376, 49.218, 8.55827, 51.8245, 9.58948, 54.3875, 10.7004, 56.8969, 11.8939, 59.3423, 13.173, 61.7135, 14.5408, 64, 16, 66.0714, 17.5969, 67.8154, 19.366, 70.3898, 23.3621, 71.8606, 27.8714, 72.3649, 32.777, 72.2976, 35.3419, 72.0401, 37.962, 71.6096, 40.6227, 71.0233, 43.3094, 70.2984, 46.0075, 69.452, 48.7024, 68.5012, 51.3794, 67.4632, 54.024, 66.3553, 56.6215, 65.1944, 59.1574, 63.9979, 61.617, 62.7828, 63.9856, 61.5662, 66.2488, 60.3655, 68.3918, 58.08, 72.259, 56.0634, 75.4703, 54.453, 77.9089, 53, 80)

[node name="Pointer" parent="Tracks/TrackSwitch2/RightTrack" index="5"]
position = Vector2(64, 16)

[node name="Track3" parent="Tracks" instance=ExtResource("2_aska1")]
position = Vector2(237, 330)
curve = SubResource("Curve2D_38uo1")

[node name="Timer" type="Timer" parent="."]
wait_time = 0.1
one_shot = true
autostart = true

[node name="TrainStation" parent="." instance=ExtResource("4_kq6cn")]
position = Vector2(641, 489)

[node name="Track" parent="." instance=ExtResource("2_aska1")]
position = Vector2(1376, 108)
curve = SubResource("Curve2D_56v8v")

[node name="TrainRoute" parent="." node_paths=PackedStringArray("train") instance=ExtResource("6_sec3k")]
train = NodePath("../TrainEngine")

[node name="TrainRouteStop" parent="TrainRoute" node_paths=PackedStringArray("station") instance=ExtResource("7_hql3n")]
station = NodePath("../../TrainStation")
delay = 40.0

[connection signal="timeout" from="Timer" to="." method="_on_Timer_timeout"]

[editable path="Tracks/TrackSwitch"]
[editable path="Tracks/TrackSwitch/LeftTrack"]
[editable path="Tracks/TrackSwitch/RightTrack"]
[editable path="Tracks/TrackSwitch2"]
[editable path="Tracks/TrackSwitch2/LeftTrack"]
[editable path="Tracks/TrackSwitch2/RightTrack"]
